{% import _self as menus %}
{# Define macro for rendering menu items recursively #}
{% macro menu_links(items, menu_level) %}
    {% if items %}
        <ul class="flex py-0 h-full">
            {% for item in items %}
                {% set item_classes = ['group transition-colors items-center duration-300 ease-in-out hover:bg-blue-100','flex','border-black','border-l-2','relative','group',item.is_expanded ? 'has-submenu', item.is_collapsed ? 'is-collapsed',item.in_active_trail ? 'text-blue-500 font-semibold' : ''] %}
                <div {{ item.attributes.addClass(item_classes) }}>
                    <a href={{ item.url }} class="w-full h-full flex">
                        <li class="group-hover:text-blue-400 px-2 my-auto text-gray-800 my-auto hover:text-blue-800','transition-colors duration-300 ease-in-out">
                            {{ item.title }}
                            {% if item.below %}{{ menus.menu_links(item.below, menu_level + 1) }}{% endif %}
                        </li>
                    </a>
                </div>
            {% endfor %}
            <li class='border-l-2 border-black'></li>
        </ul>
    {% endif %}
{% endmacro %}
<div class="w-full border-y-2 border-black">
    <div class="flex flex-row mx-auto w-1/2">
        <div id="logo-block" class="ml-0 mr-auto py-2">
            {% if logo %}
                <a href="{{ path("<front>") }}" class=" mr-auto my-auto" rel="home">
                    <img src="{{ logo }}" alt="{{ 'Home'|t }}" class="my-auto" />
                </a>
            {% else %}
                <a href="{{ path("<front>") }}"
                   class="flex mr-auto my-auto text-[#001524]"
                   rel="home">
                    <i data-lucide="waypoints" class="my-auto w-16 h-16"></i>
                    <h2 class="font-sans ml-4 text-4xl font-bold my-auto leading-4 tracking-widest">ICDE</h2>
                </a>
            {% endif %}
        </div>
        <nav class="flex items-center mr-8"
             role="navigation"
             aria-label="{{ 'Main navigation'|t }}">
            {{ menus.menu_links(items, 0) }}
        </nav>
    </div>
</div>
